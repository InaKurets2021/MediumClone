(function(){"use strict";var t={1943:function(t,e,r){var s=r(6369),a=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("mcv-topbar"),e("router-view")],1)},i=[],o=function(){var t=this,e=t._self._c;return e("nav",{staticClass:"navbar navbar-light"},[e("div",{staticClass:"container"},[e("router-link",{staticClass:"navbar-brand",attrs:{to:{name:"globalFeed"}}},[t._v(" MediumClone ")]),e("ul",{staticClass:"nav navbar-nav pull-xs-right"},[e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",attrs:{to:{name:"globalFeed"}}},[t._v("Home")])],1),t.isLoggedIn?[e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",attrs:{to:{name:"createArticle"}}},[e("i",{staticClass:"ion-compose"}),t._v("   New Article ")])],1),e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",attrs:{to:{name:"settings"}}},[e("i",{staticClass:"ion-gear-a"}),t._v("   Settings ")])],1),e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",attrs:{to:{name:"userProfile",params:{slug:t.currentUser.username}}}},[e("img",{staticClass:"user-pic",attrs:{src:t.currentUser.image}}),t._v("   "+t._s(t.currentUser.username)+" ")])],1)]:t._e(),t.isAnonymous?[e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",attrs:{to:{name:"login"}}},[t._v(" Sign in ")])],1),e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",attrs:{to:{name:"register"}}},[t._v(" Sign up ")])],1)]:t._e()],2)],1)])},l=[],n=r(3822),u=r(6943);const c=t=>{try{return JSON.parse(localStorage.getItem(t))}catch(e){return console.error("Error in getting data from localStorage",e),null}},d=(t,e)=>{try{localStorage.setItem(t,JSON.stringify(e))}catch(r){console.error("Error in setting data to localStorage",r)}};u.Z.defaults.baseURL="https://conduit.productionready.io/api",u.Z.interceptors.request.use((t=>{const e=c("accessToken"),r=e?`Token ${e}`:"";return t.headers.Authorization=r,t}));var m=u.Z;const g=t=>m.post("/users",{user:t}),p=t=>m.post("/users/login",{user:t}),v=()=>m.get("/user"),f=t=>m.put("/user",{user:t}).then((t=>t.data.user));var h={register:g,login:p,getCurrentUser:v,updateCurrentUser:f};const C={isSubmitting:!1,isLoggedIn:null,isLoading:!1,currentUser:null,validationErrors:null},b={registerStart:"[auth] Register start",registerSuccess:"[auth] Register success",registerFailure:"[auth] Register failure",loginStart:"[auth] Login start",loginSuccess:"[auth] Login success",loginFailure:"[auth] Login failure",getCurrentUserStart:"[auth] Get current user start",getCurrentUserSuccess:"[auth] Get current user success",getCurrentUserFailure:"[auth] Get current user failure",updateCurrentUserStart:"[auth] updateCurrentUserStart",updateCurrentUserSuccess:"[auth] updateCurrentUserSuccess",updateCurrentUserFailure:"[auth] updateCurrentUserFailure",logout:"[auth] logout"},S={register:"[auth] Register",login:"[auth] Login",getCurrentUser:"[auth] Get current user",updateCurrenrUser:"[auth] Update current user",logout:"[auth] logout"},_={currentUser:"[auth] currentUser",isLoggedIn:"[auth] isLoggedIn",isAnonymous:"[auth] isAnonymous"},F={[_.currentUser]:t=>t.currentUser,[_.isLoggedIn]:t=>Boolean(t.isLoggedIn),[_.isAnonymous]:t=>!1===t.isLoggedIn},A={[b.registerStart](t){t.isSubmitting=!0,t.validationErrors=null},[b.registerSuccess](t,e){t.isSubmitting=!1,t.isLoggedIn=!0,t.currentUser=e},[b.registerFailure](t,e){t.isSubmitting=!1,t.validationErrors=e},[b.loginStart](t){t.isSubmitting=!0,t.validationErrors=null},[b.loginSuccess](t,e){t.isSubmitting=!1,t.isLoggedIn=!0,t.currentUser=e},[b.loginFailure](t,e){t.isSubmitting=!1,t.validationErrors=e},[b.getCurrentUserStart](t){t.isLoading=!0},[b.getCurrentUserSuccess](t,e){t.isLoading=!1,t.isLoggedIn=!0,t.currentUser=e},[b.getCurrentUserFailure](t){t.isLoading=!1,t.isLoggedIn=!1,t.currentUser=null},[b.updateCurrentUserStart](){},[b.updateCurrentUserSuccess](t,e){t.currentUser=e},[b.updateCurrentUserFailure](){},[b.logout](t){t.currentUser=null,t.isLoggedIn=!1}},P={[S.register](t,e){return new Promise((r=>{t.commit(b.registerStart),h.register(e).then((e=>{t.commit(b.registerSuccess,e.data.user),d("accessToken",e.data.user.token),r(e.data.user)})).catch((e=>{t.commit(b.registerFailure,e.response.data.errors)}))}))},[S.login](t,e){return new Promise((r=>{t.commit(b.loginStart),h.login(e).then((e=>{t.commit(b.loginSuccess,e.data.user),d("accessToken",e.data.user.token),r(e.data.user)})).catch((e=>{t.commit(b.loginFailure,e.response.data.errors)}))}))},[S.getCurrentUser](t){return new Promise((e=>{t.commit(b.getCurrentUserStart),h.getCurrentUser().then((r=>{t.commit(b.getCurrentUserSuccess,r.data.user),e(r.data.user)})).catch((()=>{t.commit(b.getCurrentUserFailure)}))}))},[S.updateCurrentUser](t,{currentUserInput:e}){return new Promise((r=>{t.commit(b.updateCurrentUserStart),h.updateCurrentUser(e).then((e=>{t.commit(b.updateCurrentUserSuccess,e),r(e)})).catch((e=>{t.commit(b.updateCurrentUserFailure,e.response.data.errors)}))}))},[S.logout](t){return new Promise((e=>{d("accessToken",""),t.commit(b.logout),e()}))}};var U={state:C,actions:P,mutations:A,getters:F},y={name:"McvTopbar",computed:{...(0,n.Se)({currentUser:_.currentUser,isLoggedIn:_.isLoggedIn,isAnonymous:_.isAnonymous})}},L=y,w=r(1001),x=(0,w.Z)(L,o,l,!1,null,null,null),T=x.exports,M={name:"App",components:{McvTopbar:T},mounted(){this.$store.dispatch(S.getCurrentUser)}},k=M,E=(0,w.Z)(k,a,i,!1,null,null,null),$=E.exports,N=r(2631),O=function(){var t=this,e=t._self._c;return e("div",{staticClass:"home-page"},[e("mcv-banner"),e("div",{staticClass:"container page"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-9"},[e("mcv-feed-toggler"),e("mcv-feed",{attrs:{"api-url":t.apiUrl}})],1),e("div",{staticClass:"col-md-3"},[e("mcv-popular-tags")],1)])])],1)},Z=[],G=function(){var t=this,e=t._self._c;return e("div",[t.isLoading?e("mcv-loading"):t._e(),t.error?e("mcv-error-message"):t._e(),t.feed?e("div",[t._l(t.feed.articles,(function(r,s){return e("div",{key:s,staticClass:"article-preview"},[e("div",{staticClass:"article-meta"},[e("router-link",{attrs:{to:{name:"userProfile",params:{slug:r.author.username}}}},[e("img",{attrs:{src:r.author.image}})]),e("div",{staticClass:"info"},[e("router-link",{attrs:{to:{name:"userProfile",params:{slug:r.author.username}}}},[t._v(" "+t._s(r.author.username)+" ")]),e("span",{staticClass:"date"},[t._v(t._s(r.createdAt))])],1),e("div",{staticClass:"pull-xs-right"},[e("mcv-add-to-favorites",{attrs:{"is-favorited":r.favorited,"article-slug":r.slug,"favorites-count":r.favoritesCount}})],1)],1),e("router-link",{staticClass:"preview-link",attrs:{to:{name:"article",params:{slug:r.slug}}}},[e("h1",[t._v(t._s(r.title))]),e("p",[t._v(t._s(r.description))]),e("span",[t._v("Read more...")]),e("mcv-tag-list",{attrs:{tags:r.tagList}})],1)],1)})),e("mcv-pagination",{attrs:{total:t.feed.articlesCount,limit:t.limit,url:t.baseUrl,"current-page":t.currentPage}})],2):t._e()],1)},I=[],q=r(4782);const V=t=>m.get(t);var j={getFeed:V};const D={data:null,isLoading:!1,error:null},R={getFeedStart:"[feed] Get feed start",getFeedSuccess:"[feed] Get feed success",getFeedFailure:"[feed] Get feed failure"},B={getFeed:"[feed] Get feed"},Y={[R.getFeedStart](t){t.isLoading=!0,t.data=null},[R.getFeedSuccess](t,e){t.isLoading=!1,t.data=e},[R.getFeedFailure](t){t.isLoading=!1}},z={[B.getFeed](t,{apiUrl:e}){return new Promise((r=>{t.commit(R.getFeedStart,e),j.getFeed(e).then((e=>{t.commit(R.getFeedSuccess,e.data),r(e.data)})).catch((()=>{t.commit(R.getFeedFailure)}))}))}};var H={state:D,actions:z,mutations:Y},J=function(){var t=this,e=t._self._c;return e("ul",{staticClass:"pagination"},t._l(t.pages,(function(r){return e("li",{key:r,staticClass:"page-item",class:{active:t.currentPage===r}},[e("router-link",{staticClass:"page-link",attrs:{to:{path:t.url,query:{page:r}}}},[t._v(" "+t._s(r)+" ")])],1)})),0)},W=[];const K=(t,e)=>[...Array(e).keys()].map((e=>e+t));var Q={name:"McvPagination",props:{total:{type:Number,required:!0},limit:{type:Number,required:!0},currentPage:{type:Number,required:!0},url:{type:String,required:!0}},computed:{pages(){const t=Math.ceil(this.total/this.limit);return K(1,t)}}},X=Q,tt=(0,w.Z)(X,J,W,!1,null,null,null),et=tt.exports;const rt=10;var st=function(){var t=this,e=t._self._c;return e("div",[t._v(" Loading... ")])},at=[],it={name:"McvLoading"},ot=it,lt=(0,w.Z)(ot,st,at,!1,null,null,null),nt=lt.exports,ut=function(){var t=this,e=t._self._c;return e("div",[t._v(" "+t._s(t.message)+" ")])},ct=[],dt={name:"McvErrorMessage",props:{message:{type:String,required:!1,default:"Something went wrong"}}},mt=dt,gt=(0,w.Z)(mt,ut,ct,!1,null,null,null),pt=gt.exports,vt=function(){var t=this,e=t._self._c;return e("ul",{staticClass:"tag-list"},t._l(t.tags,(function(r){return e("li",{key:r,staticClass:"tag-default tag-pill tag-outline"},[t._v(" "+t._s(r)+" ")])})),0)},ft=[],ht={name:"McvTagList",props:{tags:{type:Array,required:!0}}},Ct=ht,bt=(0,w.Z)(Ct,vt,ft,!1,null,null,null),St=bt.exports,_t=function(){var t=this,e=t._self._c;return e("button",{class:{btn:!0,"btn-sm":!0,"btn-primary":t.isFavoritedOptimistic,"btn-outline-primary":!t.isFavoritedOptimistic},on:{click:t.handleLike}},[e("i",{staticClass:"ion-heart"}),e("span",[t._v("  "+t._s(t.favoritesCountOptimistic))])])},Ft=[];const At=t=>`/article/${t}/favorite`,Pt=t=>{const e=At(t);return m.post(e).then((t=>t.data.article))},Ut=t=>{const e=At(t);return m["delete"](e).then((t=>t.data.article))};var yt={addToFavorites:Pt,removeFromFavorites:Ut};const Lt={addToFavorites:"[addToFavorites] Add to favorites"},wt={addToFavoriteStart:"[addToFavorites] Add to favorites start",addToFavoriteSuccess:"[addToFavorites] Add to favorites success",addToFavoriteFailure:"[addToFavorites] Add to favorites failure"},xt={[wt.addToFavoriteStart](){},[wt.addToFavoriteSuccess](){},[wt.addToFavoriteFailure](){}},Tt={[Lt.addToFavorites](t,{slug:e,isFavorited:r}){return new Promise((s=>{t.commit(wt.addToFavoriteStart);const a=r?yt.removeFromFavorites(e):yt.addToFavorites(e);a.then((e=>{t.commit(wt.addToFavoriteSuccess,e),s(e)})).catch((()=>t.commit(wt.addToFavoriteFailure)))}))}};var Mt={action:Tt,mutations:xt},kt={name:"McvAddToFavorites",props:{isFavorited:{type:Boolean,required:!0},articleSlug:{type:String,required:!0},favoritesCount:{type:Number,required:!0}},data(){return{isFavoritedOptimistic:this.isFavorited,favoritesCountOptimistic:this.favoritesCount}},methods:{handleLike(){this.$store.dispatch(Lt.addToFavorites,{slug:this.articleSlug,isFavorited:this.isFavoritedOptimistic}),this.isFavoritedOptimistic?this.favoritesCountOptimistic=this.favoritesCountOptimistic-1:this.favoritesCountOptimistic=this.favoritesCountOptimistic+1,this.isFavoritedOptimistic=!this.isFavoritedOptimistic}}},Et=kt,$t=(0,w.Z)(Et,_t,Ft,!1,null,null,null),Nt=$t.exports,Ot={name:"McvFeed",components:{McvPagination:et,McvLoading:nt,McvErrorMessage:pt,McvTagList:St,McvAddToFavorites:Nt},props:{apiUrl:{type:String,required:!0}},computed:{...(0,n.rn)({isLoading:t=>t.feed.isLoading,feed:t=>t.feed.data,error:t=>t.feed.error}),limit(){return rt},baseUrl(){return this.$route.path},currentPage(){return Number(this.$route.query.page||"1")},offset(){return this.currentPage*rt-rt}},watch:{currentPage(){this.fetchFeed()},apiUrl(){this.fetchFeed()}},mounted(){this.fetchFeed()},methods:{fetchFeed(){const t=(0,q.en)(this.apiUrl),e=(0,q.Pz)({limit:rt,offset:this.offset,...t.query}),r=`${t.url}?${e}`;this.$store.dispatch(B.getFeed,{apiUrl:r})}}},Zt=Ot,Gt=(0,w.Z)(Zt,G,I,!1,null,null,null),It=Gt.exports,qt=function(){var t=this,e=t._self._c;return e("div",[t.isLoading?e("mcv-loading"):t._e(),t.error?e("mcv-error-message"):t._e(),t.popularTags?e("div",{staticClass:"sidebar"},[e("p",[t._v("Popular Tags")]),e("div",{staticClass:"tag-list"},t._l(t.popularTags,(function(r){return e("router-link",{key:r,staticClass:"tag-default tag-pill",attrs:{to:{name:"tag",params:{slug:r}}}},[t._v(" "+t._s(r)+" ")])})),1)]):t._e()],1)},Vt=[];const jt=()=>m.get("/tags").then((t=>t.data.tags));var Dt={getPopularTags:jt};const Rt={data:null,isLoading:!1,error:null},Bt={getPopularTagsStart:"[popularTags] Get popular tags start",getPopularTagsSuccess:"[popularTags] Get popular tags success",getPopularTagsFailure:"[popularTags] Get popular tags failure"},Yt={getPopularTags:"[popularTags] Get popular tags"},zt={[Bt.getPopularTagsStart](t){t.isLoading=!0,t.data=null},[Bt.getPopularTagsSuccess](t,e){t.isLoading=!1,t.data=e},[Bt.getPopularTagsFailure](t){t.isLoading=!1}},Ht={[Yt.getPopularTags](t){return new Promise((e=>{t.commit(Bt.getPopularTagsStart),Dt.getPopularTags().then((r=>{t.commit(Bt.getPopularTagsSuccess,r),e(r)})).catch((()=>{t.commit(Bt.getPopularTagsFailure)}))}))}};var Jt={state:Rt,actions:Ht,mutations:zt},Wt={name:"McvPopularTags",components:{McvLoading:nt,McvErrorMessage:pt},computed:{...(0,n.rn)({isLoading:t=>t.popularTags.isLoading,popularTags:t=>t.popularTags.data,error:t=>t.popularTags.error})},mounted(){this.$store.dispatch(Yt.getPopularTags)}},Kt=Wt,Qt=(0,w.Z)(Kt,qt,Vt,!1,null,null,null),Xt=Qt.exports,te=function(){var t=this;t._self._c;return t._m(0)},ee=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"banner"},[e("div",{staticClass:"container"},[e("h1",[t._v("Medium clone")]),e("p",[t._v("A place to share knowledge")])])])}],re={name:"McvBanner"},se=re,ae=(0,w.Z)(se,te,ee,!1,null,null,null),ie=ae.exports,oe=function(){var t=this,e=t._self._c;return e("div",{staticClass:"feed-toggle"},[e("ul",{staticClass:"nav nav-pills outline-active"},[t.isLoggedIn?e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",class:{active:"yourFeed"===t.routeName},attrs:{to:{name:"yourFeed"}}},[t._v(" Your feed ")])],1):t._e(),e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",class:{active:"globalFeed"===t.routeName},attrs:{to:{name:"globalFeed"}}},[t._v(" Global feed ")])],1),t.tagName?e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",class:{active:"tag"===t.routeName},attrs:{to:{name:"tag"}}},[e("i",{staticClass:"ion-pound"}),t._v(" "+t._s(t.tagName)+" ")])],1):t._e()])])},le=[],ne={name:"McvFeedToggler",props:{tagName:{type:String,required:!1}},computed:{...(0,n.Se)({isLoggedIn:_.isLoggedIn}),routeName(){return this.$route.name}}},ue=ne,ce=(0,w.Z)(ue,oe,le,!1,null,null,null),de=ce.exports,me={name:"McvGlobalFeed",components:{McvFeed:It,McvPopularTags:Xt,McvBanner:ie,McvFeedToggler:de},data(){return{apiUrl:"/articles"}}},ge=me,pe=(0,w.Z)(ge,O,Z,!1,null,null,null),ve=pe.exports,fe=function(){var t=this,e=t._self._c;return e("div",{staticClass:"home-page"},[e("mcv-banner"),e("div",{staticClass:"container page"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-9"},[e("mcv-feed-toggler"),e("mcv-feed",{attrs:{"api-url":t.apiUrl}})],1),e("div",{staticClass:"col-md-3"},[e("mcv-popular-tags")],1)])])],1)},he=[],Ce={name:"McvYourFeed",components:{McvFeed:It,McvPopularTags:Xt,McvBanner:ie,McvFeedToggler:de},data(){return{apiUrl:"/articles/feed"}}},be=Ce,Se=(0,w.Z)(be,fe,he,!1,null,null,null),_e=Se.exports,Fe=function(){var t=this,e=t._self._c;return e("div",{staticClass:"home-page"},[e("mcv-banner"),e("div",{staticClass:"container page"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-9"},[e("mcv-feed-toggler",{attrs:{"tag-name":t.tagName}}),e("mcv-feed",{attrs:{"api-url":t.apiUrl}})],1),e("div",{staticClass:"col-md-3"},[e("mcv-popular-tags")],1)])])],1)},Ae=[],Pe={name:"McvYourFeed",components:{McvFeed:It,McvPopularTags:Xt,McvBanner:ie,McvFeedToggler:de},computed:{tagName(){return this.$route.params.slug},apiUrl(){return`/articles?tag=${this.tagName}`}}},Ue=Pe,ye=(0,w.Z)(Ue,Fe,Ae,!1,null,null,null),Le=ye.exports,we=function(){var t=this,e=t._self._c;return e("div",{staticClass:"auth-page"},[e("div",{staticClass:"container page"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6 offset-md-3 col-xs-12"},[e("h1",{staticClass:"text-xs-center"},[t._v("Sign up")]),e("p",{staticClass:"text-xs-center"},[e("router-link",{attrs:{to:{name:"login"}}},[t._v(" Need an account? ")])],1),t.validationErrors?e("mcv-validation-errors",{attrs:{"validation-errors":t.validationErrors}}):t._e(),e("form",{on:{submit:function(e){return e.preventDefault(),t.onSubmit.apply(null,arguments)}}},[e("fieldset",{staticClass:"form-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.username,expression:"username"}],staticClass:"form-control form-control-lg",attrs:{type:"text",placeholder:"Username"},domProps:{value:t.username},on:{input:function(e){e.target.composing||(t.username=e.target.value)}}})]),e("fieldset",{staticClass:"form-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control form-control-lg",attrs:{type:"text",placeholder:"Email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),e("fieldset",{staticClass:"form-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control form-control-lg",attrs:{type:"password",placeholder:"Password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),e("button",{staticClass:"btn btn-lg btn-primary pull-xs-right",attrs:{disabled:t.isSubmitting}},[t._v(" Sign Up ")])])],1)])])])},xe=[],Te=(r(7658),function(){var t=this,e=t._self._c;return e("ul",{staticClass:"error-messages"},t._l(t.errorMessages,(function(r){return e("li",{key:r},[t._v(" "+t._s(r)+" ")])})),0)}),Me=[],ke={name:"McvValidationErrors",props:{validationErrors:{type:Object,required:!0}},computed:{errorMessages(){return Object.keys(this.validationErrors).map((t=>{const e=this.validationErrors[t].join(", ");return`${t} ${e}`}))}}},Ee=ke,$e=(0,w.Z)(Ee,Te,Me,!1,null,null,null),Ne=$e.exports,Oe={name:"McvRegister",components:{McvValidationErrors:Ne},data(){return{email:"",password:"",username:""}},computed:{...(0,n.rn)({isSubmitting:t=>t.auth.isSubmitting,validationErrors:t=>t.auth.validationErrors})},methods:{onSubmit(){this.$store.dispatch(S.register,{email:this.email,username:this.username,password:this.password}).then((()=>{this.$router.push({name:"globalFeed"})}))}}},Ze=Oe,Ge=(0,w.Z)(Ze,we,xe,!1,null,null,null),Ie=Ge.exports,qe=function(){var t=this,e=t._self._c;return e("div",{staticClass:"auth-page"},[e("div",{staticClass:"container page"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6 offset-md-3 col-xs-12"},[e("h1",{staticClass:"text-xs-center"},[t._v("Sign in")]),e("p",{staticClass:"text-xs-center"},[e("router-link",{attrs:{to:{name:"register"}}},[t._v(" Have an account? ")])],1),t.validationErrors?e("mcv-validation-errors",{attrs:{"validation-errors":t.validationErrors}}):t._e(),e("form",{on:{submit:function(e){return e.preventDefault(),t.onSubmit.apply(null,arguments)}}},[e("fieldset",{staticClass:"form-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control form-control-lg",attrs:{type:"text",placeholder:"Email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),e("fieldset",{staticClass:"form-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control form-control-lg",attrs:{type:"password",placeholder:"Password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),e("button",{staticClass:"btn btn-lg btn-primary pull-xs-right",attrs:{disabled:t.isSubmitting}},[t._v(" Sign In ")])])],1)])])])},Ve=[],je={name:"McvLogin",components:{McvValidationErrors:Ne},data(){return{email:"",password:""}},computed:{...(0,n.rn)({isSubmitting:t=>t.auth.isSubmitting,validationErrors:t=>t.auth.validationErrors})},methods:{onSubmit(){this.$store.dispatch(S.login,{email:this.email,password:this.password}).then((()=>{this.$router.push({name:"globalFeed"})}))}}},De=je,Re=(0,w.Z)(De,qe,Ve,!1,null,null,null),Be=Re.exports,Ye=function(){var t=this,e=t._self._c;return e("div",{staticClass:"article-page"},[e("div",{staticClass:"banner"},[t.article?e("div",{staticClass:"container"},[e("h1",[t._v(t._s(t.article.title))]),e("div",{staticClass:"article-meta"},[e("router-link",{attrs:{to:{name:"userProfile",params:{slug:t.article.author.username}}}},[e("img",{attrs:{src:t.article.author.image}})]),e("div",{staticClass:"info"},[e("router-link",{attrs:{to:{name:"userProfile",params:{slug:t.article.author.username}}}},[t._v(" "+t._s(t.article.author.username)+" ")]),e("span",{staticClass:"date"},[t._v(t._s(t.article.createdAt))])],1),t.isAuthor?e("span",[e("router-link",{staticClass:"btn btn-outline-secondary btn-sm",attrs:{to:{name:"editArticle",params:{slug:t.article.slug}}}},[e("i",{staticClass:"ion-edit"}),t._v(" Edit Article ")]),e("button",{staticClass:"btn btn-outline-danger btn-sm",on:{click:t.deleteArticle}},[e("i",{staticClass:"ion-trash-a"}),t._v(" Delete Article ")])],1):t._e()],1)]):t._e()]),e("div",{staticClass:"container page"},[t.isLoading?e("mcv-loading"):t._e(),t.error?e("mcv-error-message",{attrs:{message:t.error}}):t._e(),t.article?e("div",{staticClass:"row article-content"},[e("div",{staticClass:"col-xs-12"},[e("div",[e("p",[t._v(t._s(t.article.body))])]),e("mcv-tag-list",{attrs:{tags:t.article.tagList}})],1)]):t._e()],1)])},ze=[];const He=t=>m.get(`/articles/${t}`).then((t=>t.data.article)),Je=t=>m["delete"](`/articles/${t}`),We=t=>m.post("/articles",{article:t}).then((t=>t.data.article)),Ke=(t,e)=>m.put(`/articles/${t}`,e).then((t=>t.data.article));var Qe={getArticle:He,deleteArticle:Je,createArticle:We,updateArticle:Ke};const Xe={data:null,isLoading:!1,error:null},tr={getArticleStart:"[article] Get article start",getArticleSuccess:"[article] Get article success",getArticleFailure:"[article] Get article failure",deleteArticleStart:"[article] Delete article start",deleteArticleSuccess:"[article] Delete article success",deleteArticleFailure:"[article] Delete article failure"},er={getArticle:"[article] Get article",deleteArticle:"[article] Delete article"},rr={[tr.getArticleStart](t){t.isLoading=!0,t.data=null},[tr.getArticleSuccess](t,e){t.isLoading=!1,t.data=e},[tr.getArticleFailure](t){t.isLoading=!1},[tr.deleteArticleStart](){},[tr.deleteArticleSuccess](){},[tr.deleteArticleFailure](){}},sr={[er.getArticle](t,{slug:e}){return new Promise((r=>{t.commit(tr.getArticleStart,e),Qe.getArticle(e).then((e=>{t.commit(tr.getArticleSuccess,e),r(e)})).catch((()=>{t.commit(tr.getArticleFailure)}))}))},[er.deleteArticle](t,{slug:e}){return new Promise((r=>{t.commit(tr.deleteArticleStart,e),Qe.deleteArticle(e).then((()=>{t.commit(tr.deleteArticleSuccess),r()})).catch((()=>{t.commit(tr.deleteArticleFailure)}))}))}};var ar={state:Xe,actions:sr,mutations:rr},ir={name:"McvArticle",components:{McvLoading:nt,McvErrorMessage:pt,McvTagList:St},computed:{...(0,n.rn)({isLoading:t=>t.article.isLoading,error:t=>t.article.error,article:t=>t.article.data}),...(0,n.Se)({currentUser:_.currentUser}),isAuthor(){return!(!this.currentUser||!this.article)&&this.currentUser.userName===this.article.author.username}},mounted(){this.$store.dispatch(er.getArticle,{slug:this.$route.params.slug})},methods:{deleteArticle(){this.$store.dispatch(er.deleteArticle,{slug:this.$route.params.slug}).then((()=>{this.$route.push({name:"globalFeed"})}))}}},or=ir,lr=(0,w.Z)(or,Ye,ze,!1,null,null,null),nr=lr.exports,ur=function(){var t=this,e=t._self._c;return e("div",[e("mcv-article-form",{attrs:{"initial-values":t.initialValues,errors:t.validationErrors,"is-submitting":t.isSubmitting},on:{articleSubmit:t.onSubmit}})],1)},cr=[],dr=function(){var t=this,e=t._self._c;return e("div",{staticClass:"editor-page"},[e("div",{staticClass:"container page"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-10 offset-md-1 col-xs-12"},[t.errors?e("mcv-validation-errors",{attrs:{"validation-errors":t.errors}}):t._e(),e("form",{on:{submit:function(e){return e.preventDefault(),t.onSubmit.apply(null,arguments)}}},[e("fieldset",[e("fieldset",{staticClass:"form-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],staticClass:"form-control form-control-lg",attrs:{type:"text",placeholder:"Article title"},domProps:{value:t.title},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})]),e("fieldset",{staticClass:"form-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],staticClass:"form-control form-control-lg",attrs:{type:"text",placeholder:"Description"},domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}})]),e("fieldset",{staticClass:"form-group"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.body,expression:"body"}],staticClass:"form-control form-control-lg",attrs:{type:"text",placeholder:"What is this article about?"},domProps:{value:t.body},on:{input:function(e){e.target.composing||(t.body=e.target.value)}}})]),e("fieldset",{staticClass:"form-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.tagList,expression:"tagList"}],staticClass:"form-control form-control-lg",attrs:{type:"text",placeholder:"Enter tags"},domProps:{value:t.tagList},on:{input:function(e){e.target.composing||(t.tagList=e.target.value)}}})]),e("fieldset",{staticClass:"form-group"},[e("button",{staticClass:"btn btn-lg pull-xs-right btn-primary",attrs:{type:"submit",disabled:t.isSubmitting}},[t._v(" Publish Article ")])])])])],1)])])])},mr=[],gr={name:"McvArticleForm",components:{McvValidationErrors:Ne},props:{initialValues:{type:Object,required:!0},errors:{type:Object,required:!1},isSubmitting:{type:Boolean,required:!0}},data(){return{title:this.initialValues.title,description:this.initialValues.description,body:this.initialValues.body,tagList:this.initialValues.tagList.join("")}},methods:{onSubmit(){const t={title:this.title,description:this.description,body:this.body,tagList:this.tagList.split("")};this.$emit("articleSubmit",t)}}},pr=gr,vr=(0,w.Z)(pr,dr,mr,!1,null,null,null),fr=vr.exports;const hr={isSubmitting:!1,validationErrors:null},Cr={createArticleStart:"[createArticle] Create article start",createArticleSuccess:"[createArticle] Create article success",createArticleFailure:"[createArticle] Create article failure"},br={createArticle:"[createArticle] Create article"},Sr={[Cr.createArticleStart](t){t.isSubmitting=!0},[Cr.createArticleSuccess](t){t.isSubmitting=!1},[Cr.createArticleFailure](t,e){t.isSubmitting=!1,t.validationErrors=e}},_r={[br.createArticle](t,{articleInput:e}){return new Promise((r=>{t.commit(Cr.createArticleStart),Qe.createArticle(e).then((e=>{t.commit(Cr.createArticleSuccess,e),r(e)})).catch((e=>{t.commit(Cr.createArticleFailure,e.response.data.errors)}))}))}};var Fr={state:hr,actions:_r,mutations:Sr},Ar={name:"McvCreateAtricle",components:{McvArticleForm:fr},data(){return{initialValues:{title:"",description:"",body:"",tagList:[]}}},computed:{...(0,n.rn)({isSubmitting:t=>t.createArticle.isSubmitting,validationErrors:t=>t.createArticle.validationErrors})},methods:{onSubmit(t){this.$store.dispatch(br.createArticle,{articleInput:t}).then((t=>{this.$router.push({name:"article",params:{slug:t.slug}})}))}}},Pr=Ar,Ur=(0,w.Z)(Pr,ur,cr,!1,null,null,null),yr=Ur.exports,Lr=function(){var t=this,e=t._self._c;return e("div",[t.isLoading?e("mcv-loading"):t._e(),t.initialValues?e("mcv-article-form",{attrs:{"initial-values":t.initialValues,errors:t.validationErrors,"is-submitting":t.isSubmitting},on:{articleSubmit:t.onSubmit}}):t._e()],1)},wr=[];const xr={isSubmitting:!1,validationErrors:null,isLoading:!1,article:null},Tr={updateArticleStart:"[updateArticle] Update article start",updateArticleSuccess:"[updateArticle] Update article success",updateArticleFailure:"[updateArticle] Update article failure",getArticleStart:"[updateArticle] Get article start",getArticleSuccess:"[updateArticle] Get article success",getArticleFailure:"[updateArticle] Get article failure"},Mr={updateArticle:"[updateArticle] Update article",getArticle:"[updateArticle] Get article"},kr={[Tr.updateArticleStart](t){t.isSubmitting=!0},[Tr.updateArticleSuccess](t){t.isSubmitting=!1},[Tr.updateArticleFailure](t,e){t.isSubmitting=!1,t.validationErrors=e},[Tr.getArticleStart](t){t.isLoading=!0},[Tr.getArticleSuccess](t,e){t.isLoading=!1,t.article=e},[Tr.getArticleFailure](t){t.isLoading=!1}},Er={[Mr.updateArticle](t,{slug:e,articleInput:r}){return new Promise((s=>{t.commit(Tr.updateArticleStart),Qe.updateArticle(e,r).then((e=>{t.commit(Tr.updateArticleSuccess,e),s(e)})).catch((e=>{t.commit(Tr.updateArticleFailure,e.response.data.errors)}))}))},[Mr.getArticle](t,{slug:e}){return new Promise((r=>{t.commit(Tr.getArticleStart),Qe.getArticle(e).then((e=>{t.commit(Tr.getArticleSuccess,e),r(e)})).catch((()=>{t.commit(Tr.getArticleFailure)}))}))}};var $r={state:xr,actions:Er,mutations:kr},Nr={name:"McvEditAtricle",components:{McvArticleForm:fr,McvLoading:nt},computed:{...(0,n.rn)({isSubmitting:t=>t.editArticle.isSubmitting,validationErrors:t=>t.editArticle.validationErrors,article:t=>t.editArticle.article,isLoading:t=>t.editArticle.isLoading}),initialValues(){return this.article?{title:this.article.title,description:this.article.description,body:this.article.body,tagList:this.article.tagList}:null}},mounted(){this.$store.dispatch(Mr.getArticle,{slug:this.$route.params.slug})},methods:{onSubmit(t){const e=this.$route.params.slug;this.$store.dispatch(Mr.updateArticle,{slug:e,articleInput:t}).then((t=>{this.$route.push({name:"article",params:{slug:t.slug}})}))}}},Or=Nr,Zr=(0,w.Z)(Or,Lr,wr,!1,null,null,null),Gr=Zr.exports,Ir=function(){var t=this,e=t._self._c;return t.currentUser?e("div",{staticClass:"settings-page"},[e("div",{staticClass:"container page"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-6 offset-md-3 col-xs-12"},[e("h1",{staticClass:"text-xs-center"},[t._v("Settings")]),t.validationErrors?e("mcv-validation-errors",{attrs:{"validation-errors":t.validationErrors}}):t._e(),e("form",{on:{submit:function(e){return e.preventDefault(),t.onSubmit.apply(null,arguments)}}},[e("fieldset",[e("fieldset",{staticClass:"form-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.image,expression:"form.image"}],staticClass:"form-control form-control-lg",attrs:{type:"text",placeholder:"URL of profile picture"},domProps:{value:t.form.image},on:{input:function(e){e.target.composing||t.$set(t.form,"image",e.target.value)}}})]),e("fieldset",{staticClass:"form-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.username,expression:"form.username"}],staticClass:"form-control form-control-lg",attrs:{type:"text",placeholder:"Username"},domProps:{value:t.form.username},on:{input:function(e){e.target.composing||t.$set(t.form,"username",e.target.value)}}})]),e("fieldset",{staticClass:"form-group"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.form.bio,expression:"form.bio"}],staticClass:"form-control form-control-lg",attrs:{type:"text",placeholder:"Short bio about you"},domProps:{value:t.form.bio},on:{input:function(e){e.target.composing||t.$set(t.form,"bio",e.target.value)}}})]),e("fieldset",{staticClass:"form-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.iemail,expression:"form.iemail"}],staticClass:"form-control form-control-lg",attrs:{type:"text",placeholder:"Email"},domProps:{value:t.form.iemail},on:{input:function(e){e.target.composing||t.$set(t.form,"iemail",e.target.value)}}})]),e("fieldset",{staticClass:"form-group"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control form-control-lg",attrs:{type:"password",placeholder:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),e("button",{staticClass:"btn btn-lg btn-primary pull-xs-right",attrs:{type:"submit",disabled:t.isSubmitting}},[t._v("Update settings ")])])]),e("hr"),e("button",{staticClass:"btn btn-outline-danger",attrs:{type:"text"},on:{click:t.logout}},[t._v("Or click here to logout")])],1)])])]):t._e()},qr=[],Vr={name:"McvSettings",components:{McvValidationErrors:Ne},computed:{...(0,n.rn)({isSubmitting:t=>t.settings.isSubmitting,validationErrors:t=>t.settings.validationErrors}),...(0,n.Se)({currentUser:_.currentUser}),form(){return{username:this.currentUser.username,bio:this.currentUser.bio,image:this.currentUser.image,email:this.currentUser.email,password:""}}},methods:{onSubmit(){this.$store.dispatch(S.updateCurrentUser,{currentUserInput:this.form})},logout(){this.$store.dispatch(S.logout).then((()=>{this.$router.push({name:"globalFeed"})}))}}},jr=Vr,Dr=(0,w.Z)(jr,Ir,qr,!1,null,null,null),Rr=Dr.exports,Br=function(){var t=this,e=t._self._c;return t.userProfile?e("div",{staticClass:"profile-page"},[e("div",{staticClass:"user-info"},[e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-xs-12 col-md-10 offset-md-1"},[e("img",{staticClass:"user-img",attrs:{src:t.userProfile.image}}),e("h4",[t._v(t._s(t.userProfile.username))]),e("p",[t._v(t._s(t.userProfile.bio))]),e("div",[t._v(" FOLLOW USER BUTTON "),t.isCurrentUserProfile?e("router-link",{staticClass:"btn btn-sm btn-outline-secondary action-btn",attrs:{to:{name:"settings"}}},[t._v(" Edit Profile Settings ")]):t._e()],1)])])])]),e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-xs-12 col-md-10 offset-md-1"},[e("div",{staticClass:"article-toggle"},[e("ul",{staticClass:"nav nav-pills outline-active"},[e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",class:{active:"userProfile"===t.routeName},attrs:{to:{name:"userProfile",params:{slug:t.userProfile.username}}}},[t._v(" My Posts ")])],1),e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",class:{active:"userProfileFavorites"===t.routeName},attrs:{to:{name:"userProfileFavorites",params:{slug:t.userProfile.username}}}},[t._v(" Favorites Posts ")])],1)])]),e("mcv-feed",{attrs:{"api-url":t.apiUrl}})],1)])])]):t._e()},Yr=[];const zr=t=>m.get(`/profiles/${t}`).then((t=>t.data.profile));var Hr={getUserProfile:zr};const Jr={data:null,isLoading:!1,error:null},Wr={getUserProfileStart:"[userProfile] Get user profile start",getUserProfileSuccess:"[userProfile] Get user profile success",getUserProfileFailure:"[userProfile] Get user profile failure"},Kr={getUserProfile:"[userProfile] Get user profile"},Qr={[Wr.getUserProfileStart](t){t.isLoading=!0,t.data=null},[Wr.getUserProfileSuccess](t,e){t.isLoading=!1,t.data=e},[Wr.getUserProfileFailure](t){t.isLoading=!1}},Xr={[Kr.getUserProfile](t,{slug:e}){return new Promise((r=>{t.commit(Wr.getUserProfileStart),Hr.getUserProfile(e).then((e=>{t.commit(Wr.getUserProfileSuccess,e),r(e)})).catch((()=>{t.commit(Wr.getUserProfileFailure)}))}))}};var ts={state:Jr,actions:Xr,mutations:Qr},es={name:"McvUserProfile",components:{McvFeed:It},computed:{...(0,n.rn)({isLoading:t=>t.userProfile.isLoading,userProfile:t=>t.userProfile.data,error:t=>t.userProfile.error}),...(0,n.Se)({currentUser:_.currentUser}),isCurrentUserProfile(){return!(!this.currentUser||!this.userProfile)&&this.currentUser.username===this.userProfile.username},userProfileSlug(){return this.$route.params.slug},apiUrl(){const t=this.$route.path.includes("favorites");return t?`/articles?favorited=${this.userProfileSlug}`:`/articles?author=${this.userProfileSlug}`},routeName(){return this.$route.name}},watch:{userProfileSlug(){this.getUserProfile()}},mounted(){this.getUserProfile()},methods:{getUserProfile(){this.$store.dispatch(Kr.getUserProfile,{slug:this.userProfileSlug})}}},rs=es,ss=(0,w.Z)(rs,Br,Yr,!1,null,null,null),as=ss.exports;s.ZP.use(N.ZP);const is=[{path:"/register",name:"register",component:Ie},{path:"/login",name:"login",component:Be},{path:"/",name:"globalFeed",component:ve},{path:"/feed",name:"yourFeed",component:_e},{path:"/tags/:slug",name:"tag",component:Le},{path:"/articles/new",name:"createArticle",component:yr},{path:"/articles/:slug",name:"article",component:nr},{path:"/articles/:slug/edit",name:"editArticle",component:Gr},{path:"/settings",name:"settings",component:Rr},{path:"/profiles/:slug",name:"userProfile",component:as},{path:"/profiles/:slug/favorites",name:"userProfileFavorites",component:as}],os=new N.ZP({routes:is});var ls=os;const ns={isSubmitting:!1,validationErrors:null},us={[b.updateCurrentUserStart](t){t.isSubmitting=!0,t.validationErrors=null},[b.updateCurrentUserSuccess](t){t.isSubmitting=!1},[b.updateCurrentUserFailure](t,e){t.isSubmitting=!1,t.validationErrors=e}};var cs={state:ns,mutations:us};s.ZP.use(n.ZP);var ds=new n.ZP.Store({state:{},mutations:{},actions:{},modules:{auth:U,feed:H,popularTags:Jt,article:ar,createArticle:Fr,editArticle:$r,settings:cs,addToFavorites:Mt,userProfile:ts}});s.ZP.config.productionTip=!1,new s.ZP({router:ls,store:ds,render:t=>t($)}).$mount("#app")}},e={};function r(s){var a=e[s];if(void 0!==a)return a.exports;var i=e[s]={exports:{}};return t[s](i,i.exports,r),i.exports}r.m=t,function(){var t=[];r.O=function(e,s,a,i){if(!s){var o=1/0;for(c=0;c<t.length;c++){s=t[c][0],a=t[c][1],i=t[c][2];for(var l=!0,n=0;n<s.length;n++)(!1&i||o>=i)&&Object.keys(r.O).every((function(t){return r.O[t](s[n])}))?s.splice(n--,1):(l=!1,i<o&&(o=i));if(l){t.splice(c--,1);var u=a();void 0!==u&&(e=u)}}return e}i=i||0;for(var c=t.length;c>0&&t[c-1][2]>i;c--)t[c]=t[c-1];t[c]=[s,a,i]}}(),function(){r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,{a:e}),e}}(),function(){r.d=function(t,e){for(var s in e)r.o(e,s)&&!r.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};r.O.j=function(e){return 0===t[e]};var e=function(e,s){var a,i,o=s[0],l=s[1],n=s[2],u=0;if(o.some((function(e){return 0!==t[e]}))){for(a in l)r.o(l,a)&&(r.m[a]=l[a]);if(n)var c=n(r)}for(e&&e(s);u<o.length;u++)i=o[u],r.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return r.O(c)},s=self["webpackChunkvuelast"]=self["webpackChunkvuelast"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=r.O(void 0,[998],(function(){return r(1943)}));s=r.O(s)})();
//# sourceMappingURL=app.5e31ae0e.js.map